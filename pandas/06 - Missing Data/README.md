### 替换 Series 中的缺失数据

#### 1. `s.fillna(value)`：用指定值填充

这是最简单的用法。你可以用一个固定的值来替换 Series 中所有的缺失值。

- `value` 是你想要填充的值。
- 例子
  - `s.fillna(0)`: 将所有缺失值替换为 0。这在数值计算中很常见。
  - `s.fillna(s.mean())`: 将所有缺失值替换为该 Series 的平均值。这是非常常用的数据插补策略。
  - `s.fillna('Unknown')`: 如果是字符串数据，可以用一个特定的字符串来填充。

#### 2. `s.fillna(method=...)`：用填充方法

当数据有顺序关系时（比如时间序列数据），这种方法特别有用。它不是用一个固定的值，而是根据缺失值旁边的值来填充。

```
[null, 1, null, 2, null, null]
```

- **`method='ffill'` (forward fill, 向前填充)**
  - **逻辑**：用缺失值**前面最后一个有效（非缺失）的值**来填充它。
    1. 第一个 `null`：前面没有值，所以保持 `null`。
    2. `1` 是有效值。
    3. `1` 后面的 `null`：它前面的有效值是 `1`，所以它被填充为 `1`。
    4. `2` 是有效值。
    5. `2` 后面的第一个 `null`：它前面的有效值是 `2`，所以被填充为 `2`。
    6. 最后一个 `null`：它前面的值（现在已经被填充为2了）是 `2`，所以它也被填充为 `2`。
  - **最终结果**： `[null, 1, 1, 2, 2, 2]`
- **`method='bfill'` (backward fill, 向后填充)**
  - **逻辑**：和 `ffill` 相反，用缺失值**后面第一个有效的值**来填充它。
    1. 第一个 `null`：它后面的有效值是 `1`，所以被填充为 `1`。
    2. `1` 是有效值。
    3. `1` 后面的 `null`：它后面的有效值是 `2`，所以被填充为 `2`。
    4. `2` 是有效值。
    5. `2` 后面的两个 `null`：它们后面再也没有有效值了，所以保持 `null`。
  - **最终结果**： `[1, 1, 2, 2, null, null]`

### 替换 DataFrame 中的缺失数据

`fillna` 扩展到二维的 `DataFrame`。基本逻辑一样，但引入了一个至关重要的参数：`axis`（轴）。

#### `axis` 参数的重要性

在 `DataFrame` 中，填充操作可以沿着两个方向进行：

- `axis=0`：沿着**行**的方向进行操作，也就是**垂直向下**。填充时，一个 `NaN` 会寻找它**同列中**上方或下方的值。
- `axis=1`：沿着**列**的方向进行操作，也就是**水平向右**。填充时，一个 `NaN` 会寻找它**同行中**左边或右边的值。

**记忆技巧**：可以这样记，`axis=0` 操作的是行标签（index），`axis=1` 操作的是列标签（columns）。

+  `DataFrame` 替换位于 `(2, 2)`的 `NaN`。

  ```
  0.0  0.1   0.2  0.3
  1.0  NaN  1.2  1.3
  2.0  2.1  NaN  2.3
  3.0  3.1  3.2  3.3
  ```

  ```python
  #按行进行替换
  df.fillna(method='ffill', axis=0)
  Result: 2.0  2.1  1.2  2.3
  ```

  ```python
  #按列进行替换
  df.fillna(method='ffill', axis=1)
  Result: 2.0  2.1  2.1  2.3
  ```

### 删除含有缺失值的数据 

除了填充，另一种常见的处理方式是直接删除含有缺失值的行或列。对应的函数是 `dropna()`。

#### `ropna()` 与 `axis` 参数

和 `fillna` 一样，在 `DataFrame` 中使用 `dropna` 时，你也必须告诉 Pandas 你想删除的是**行**还是**列**。